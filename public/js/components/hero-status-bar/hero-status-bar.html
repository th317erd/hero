<!-- Hero Status Bar Component -->
<!-- Bottom status bar showing connection status and spend tracking -->

<!-- Document-scope styles (component positioning) -->
<style data-for="hero-status-bar">
  hero-status-bar {
    display: block;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 800;
  }

  hero-status-bar.hidden {
    display: none;
  }
</style>

<!-- Shadow DOM template -->
<template data-for="hero-status-bar">
  <style>
    :host {
      display: block;
    }

    .status-bar {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 6px 16px;
      background: var(--bg-secondary, #1a1a2e);
      border-top: 1px solid var(--border-color, #2d2d2d);
      font-family: var(--font-mono, monospace);
      font-size: 12px;
      height: 32px;
    }

    /* Connection Status */
    .connection-status {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .connection-status.connected {
      color: var(--success, #4ade80);
    }

    .connection-status.disconnected {
      color: var(--error, #f87171);
    }

    .connection-icon {
      font-size: 10px;
    }

    .connection-text {
      font-weight: 500;
    }

    /* Separator */
    .status-separator {
      color: var(--text-muted, #6b7280);
      opacity: 0.5;
    }

    /* Spend Items */
    .spend-item {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .spend-label {
      color: var(--text-secondary, #9ca3af);
    }

    .spend-value {
      font-weight: 600;
      min-width: 60px;
    }

    /* Color coding for different spend types */
    .spend-global .spend-value {
      color: var(--success, #4ade80);
    }

    .spend-service .spend-value {
      color: var(--info, #60a5fa);
    }

    .spend-session .spend-value {
      color: var(--accent, #f472b6);
    }

    /* Disabled state (not in session) */
    .spend-disabled {
      opacity: 0.5;
    }

    .spend-disabled .spend-value {
      color: var(--text-muted, #6b7280) !important;
    }

    /* Mobile: Stack spend items vertically or wrap */
    @media (max-width: 640px) {
      .status-bar {
        flex-wrap: wrap;
        gap: 4px 12px;
        padding: 4px 12px;
        height: auto;
        min-height: 32px;
      }

      .status-separator {
        display: none;
      }

      .connection-status {
        width: 100%;
        justify-content: center;
      }

      .spend-item {
        font-size: 11px;
      }

      .spend-value {
        min-width: 50px;
      }
    }
  </style>

  <div class="status-bar">
    <span class="connection-status @@connectionClass@@" title="WebSocket connection status">
      <span class="connection-icon">@@connectionIcon@@</span>
      <span class="connection-text">@@connectionText@@</span>
    </span>
    <span class="status-separator">|</span>
    <span class="spend-item spend-global" title="Total usage across all agents">
      <span class="spend-label">Global:</span>
      <span class="spend-value">@@globalSpendFormatted@@</span>
    </span>
    <span class="status-separator">|</span>
    <span class="spend-item spend-service @@spendDisabledClass@@" title="Usage for this API key/service">
      <span class="spend-label">Service:</span>
      <span class="spend-value">@@serviceSpendFormatted@@</span>
    </span>
    <span class="status-separator">|</span>
    <span class="spend-item spend-session @@spendDisabledClass@@" title="Usage in this session">
      <span class="spend-label">Session:</span>
      <span class="spend-value">@@sessionSpendFormatted@@</span>
    </span>
  </div>
</template>

<script type="module" src="./hero-status-bar.js"></script>
